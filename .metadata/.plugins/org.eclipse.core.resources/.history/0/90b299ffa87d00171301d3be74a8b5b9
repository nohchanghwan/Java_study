CREATE TABLE USER_BC(
      USER_ID   VARCHAR2(30) PRIMARY KEY,
      PWD         VARCHAR2(30) NOT NULL,
      EMAIL      VARCHAR2(50) NOT NULL,
      DEPOSIT   NUMBER(20)    DEFAULT 0
      );

  
CREATE TABLE WALLET(
      WALLET_IDX   NUMBER(20) PRIMARY KEY,
      VM_IDX         NUMBER(20) NOT NULL REFERENCES VM(VM_IDX),
      PRICE         NUMBER(20) NOT NULL,
      AMOUNT         NUMBER(20) NOT NULL,
      SUM            NUMBER(20) NOT NULL,
      USER_ID      VARCHAR(30) NOT NULL REFERENCES USER_BC(USER_ID)       
      );
     


CREATE TABLE VM(
   VM_IDX         NUMBER(10) PRIMARY KEY,
   VM_P            NUMBER(10) NOT NULL
);

CREATE TABLE RESULT(
      USER_ID         VARCHAR2(30)  REFERENCES USER_BC(USER_ID), 
      AMOUNT_SUM      NUMBER(20),
      PRE_VAL         NUMBER(20),
      C_VAL            NUMBER(20),
      RATE               NUMBER(20), 
      WALLET_IDX      NUMBER(20)  REFERENCES WALLET(WALLET_IDX),
      PRIMARY KEY(USER_ID)
      );


SELECT *
FROM wallet;
SELECT *
FROM VM;

SELECT *
FROM RESULT;


INSERT INTO USER_BC VALUES ('admin','0000','admin',1000);
INSERT INTO USER_BC VALUES ('bdmin','0000','admin',1000);
INSERT INTO VM VALUES (0,50);
INSERT INTO WALLET VALUES (0,0,50,2,100,'admin');
INSERT INTO WALLET VALUES (0,0,50,2,200,'bdmin');
INSERT INTO RESULT VALUES ('admin',0,0,0,0,0);
