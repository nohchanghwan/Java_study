
자바 c반 과제 노창환

--1
SELECT  DEPARTMENT_NAME AS "학과 명", CATEGORY AS 계열
FROM	TB_DEPARTMENT;

--2
SELECT	DEPARTMENT_NAME || '의 정원은 ' || CAPACITY || ' 명 입니다.' AS "학과별 정원"
FROM	TB_DEPARTMENT;

--3
SELECT 	STUDENT_NAME   
FROM	TB_STUDENT
WHERE 	DEPARTMENT_NO = '001' AND ABSENCE_YN = 'Y' AND SUBSTR(STUDENT_SSN,8,1) = '2';

--4
SELECT   STUDENT_NAME 
FROM	 TB_STUDENT
WHERE	 STUDENT_NO >= 'A513079' AND STUDENT_NO LIKE 'A513___'	
ORDER BY STUDENT_NO DESC;

--5
SELECT  DEPARTMENT_NAME , CATEGORY  
FROM	TB_DEPARTMENT
WHERE 	CAPACITY >= '20' AND  CAPACITY <= '30';

--6
SELECT 	PROFESSOR_NAME
FROM 	TB_PROFESSOR
WHERE	DEPARTMENT_NO IS NULL;

--7
SELECT 	STUDENT_NAME
FROM 	TB_STUDENT
WHERE 	DEPARTMENT_NO IS NULL;

--8

SELECT 	CLASS_NO
FROM 	TB_CLASS
WHERE 	PREATTENDING_CLASS_NO IS NOT NULL;

--9
SELECT DISTINCT CATEGORY 
FROM 	TB_DEPARTMENT;

--10
SELECT 	STUDENT_NO , STUDENT_NAME , STUDENT_SSN
FROM 	TB_STUDENT
WHERE 	SUBSTR(STUDENT_NO,1,2) = 'A2' AND ABSENCE_YN = 'N' AND SUBSTR(STUDENT_ADDRESS,1,3) = '전주시';


--1 함수

SELECT 	STUDENT_NO AS 학번 , STUDENT_NAME AS 이름 , TO_CHAR(ENTRANCE_DATE,'YYYY"-"MM"-"DD') AS 입학년도
FROM 	TB_STUDENT
WHERE	DEPARTMENT_NO = '002'
ORDER BY TO_CHAR(ENTRANCE_DATE,'YYYY') ASC;

--2 

SELECT 	PROFESSOR_NAME , PROFESSOR_SSN
FROM 	TB_PROFESSOR
WHERE 	LENGTH(PROFESSOR_NAME) != 3;

--3

SELECT  PROFESSOR_NAME AS 교수이름, TO_NUMBER(20||SUBSTR(SYSDATE,1,2)) - (1900+SUBSTR(PROFESSOR_SSN,1,2)) AS 나이
FROM 	TB_PROFESSOR
WHERE 	SUBSTR(PROFESSOR_SSN,8,1) = '1'
ORDER BY 나이 ASC ;

--4

SELECT 	SUBSTR(PROFESSOR_NAME,2,2) AS 이름 
FROM 	TB_PROFESSOR


--5

SELECT 	STUDENT_NO , STUDENT_NAME
FROM 	TB_STUDENT
WHERE 	SUBSTR(TO_CHAR(ENTRANCE_DATE,'YYYY'),1,4) - TO_NUMBER(19||SUBSTR(STUDENT_SSN,1,2)) = 20 ;


--6

SELECT	TO_CHAR(TO_DATE(20201225,'YYYYMMDD'),'DAY') AS DAY 
FROM 	DUAL;

--7
SELECT	TO_DATE('99/10/11','YY/MM/DD') : 2099년 10월 11일, 
		TO_DATE('49/10/11','YY/MM/DD') : 2049년 10월 11일,
		TO_DATE('99/10/11','RR/MM/DD') : 1999년 10월 11일,
		TO_DATE('49/10/11','RR/MM/DD') : 2049년 10월 11일

--8

SELECT STUDENT_NO , STUDENT_NAME
FROM TB_STUDENT
WHERE SUBSTR(STUDENT_NO,1,1) = '9'; 


--9

SELECT ROUND(AVG(POINT),1) AS 평점 
FROM TB_GRADE
WHERE  STUDENT_NO = 'A517178';


--10

SELECT 	DEPARTMENT_NO AS 학과번호 , COUNT(*) AS "학생수(명)"
FROM	TB_STUDENT
GROUP BY DEPARTMENT_NO
ORDER BY 1;


--11

SELECT 	COUNT(*)
FROM	TB_STUDENT
WHERE	COACH_PROFESSOR_NO IS NULL ;


--12

SELECT 	SUBSTR(TERM_NO,1,4) AS 년도 , ROUND(AVG(POINT),1) 
FROM 	TB_GRADE
WHERE	STUDENT_NO = 'A112113'
GROUP BY SUBSTR(TERM_NO,1,4)
ORDER BY 1;


--13 

SELECT 	DEPARTMENT_NO AS 학과코드명 , COUNT(DECODE(ABSENCE_YN,'N',NULL,'Y')) AS 휴학생수 
FROM 	TB_STUDENT
GROUP BY DEPARTMENT_NO
ORDER BY 1;


--14

SELECT 	STUDENT_NAME AS 동일이름 , COUNT(*) AS "동명인 수"
FROM	TB_STUDENT	
GROUP BY STUDENT_NAME
HAVING COUNT(*) != 1
ORDER BY 1;


--15 **

SELECT	SUBSTR(TERM_NO,1,4) AS 년도, SUBSTR(TERM_NO,5,2) AS 학기, ROUND(AVG(POINT),1) AS 평점
FROM	TB_GRADE
WHERE 	STUDENT_NO ='A112113'
GROUP BY ROLLUP(TERM_NO);



--SELECT 옵션문제

--1

SELECT 	STUDENT_NAME AS "학생 이름" , STUDENT_ADDRESS AS 주소지
FROM	TB_STUDENT
ORDER BY	STUDENT_NAME ASC;


--2

SELECT 	STUDENT_NAME , STUDENT_SSN
FROM 	TB_STUDENT
WHERE	ABSENCE_YN = 'Y'
ORDER BY	SUBSTR(STUDENT_SSN,1,6) DESC;


--3

SELECT 	STUDENT_NAME AS 학생이름, STUDENT_NO AS 학번 , STUDENT_ADDRESS AS "거주지 주소"
FROM	TB_STUDENT
WHERE	(SUBSTR(STUDENT_ADDRESS,1,3) IN('경기도','강원도')) AND  SUBSTR(STUDENT_NO,1,2) <= '99'
ORDER BY 1;


--4

SELECT	PROFESSOR_NAME , PROFESSOR_SSN
FROM	TB_PROFESSOR
WHERE	DEPARTMENT_NO = '005'
ORDER BY  2 ;


--5

SELECT	STUDENT_NO , ROUND(POINT,3)
FROM	TB_GRADE
WHERE	CLASS_NO = 'C3118100' AND SUBSTR(TERM_NO,1,6) ='200402'
ORDER BY 2 DESC , 1;


--6

SELECT	STUDENT_NO,STUDENT_NAME,DEPARTMENT_NAME
FROM	TB_STUDENT
JOIN	TB_DEPARTMENT USING (DEPARTMENT_NO)
ORDER BY STUDENT_NAME;


--7

SELECT	CLASS_NAME, DEPARTMENT_NAME
FROM	TB_CLASS
JOIN	TB_DEPARTMENT USING (DEPARTMENT_NO);


--8

SELECT 	CLASS_NAME, PROFESSOR_NAME
FROM	TB_CLASS_PROFESSOR
JOIN	TB_PROFESSOR USING (PROFESSOR_NO)
JOIN	TB_CLASS USING (CLASS_NO);

둘다됨

SELECT	CLASS_NAME, PROFESSOR_NAME
FROM	TB_PROFESSOR P , TB_CLASS C
WHERE	C.DEPARTMENT_NO = P.DEPARTMENT_NO
ORDER BY 1,2;


--9

SELECT 	A.CLASS_NAME , PROFESSOR_NAME
FROM	TB_CLASS A
JOIN	TB_CLASS_PROFESSOR	USING(CLASS_NO)
JOIN	TB_PROFESSOR	USING(PROFESSOR_NO)
JOIN	TB_DEPARTMENT B	ON (A.DEPARTMENT_NO = B.DEPARTMENT_NO)
WHERE	CATEGORY = '인문사회';


--10 **

SELECT	DISTINCT A.STUDENT_NO AS 학번 , A.STUDENT_NAME AS 학생이름 , (POINT)
FROM	TB_STUDENT A
JOIN	TB_GRADE B	ON (A.STUDENT_NO = B.STUDENT_NO)
WHERE	DEPARTMENT_NO = '059'; 


--11

SELECT DEPARTMENT_NAME AS 학과이름,STUDENT_NAME AS 학생이름, PROFESSOR_NAME AS 지도교수이름
FROM	TB_STUDENT S
JOIN	TB_DEPARTMENT D ON (S.DEPARTMENT_NO = D.DEPARTMENT_NO)
JOIN	TB_PROFESSOR P ON (S.COACH_PROFESSOR_NO = P.PROFESSOR_NO )
WHERE	STUDENT_NO='A313047';


--12

SELECT	*
FROM	TB_CLASS
WHERE	CLASS_NAME = '인간관계론';


--13
--14
--15




SELECT	DISTINCT A.STUDENT_NO , A.STUDENT_NAME , POINT
FROM	TB_STUDENT A
JOIN	TB_GRADE B	ON (A.STUDENT_NO = B.STUDENT_NO)
WHERE	DEPARTMENT_NO = '001'; 


SELECT * 
FROM	TB_DEPARTMENT



SELECT	
